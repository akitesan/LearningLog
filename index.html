<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>レベルアップ</title>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="app">
        <header v-if="user">
            <p>{{ user.displayName }}さん、ようこそ！</p>
            <div class="header-buttons">
                <button @click="resetAll" id="reset-btn">リセット</button>
                <button @click="logout" id="logout-btn">ログアウト</button>
            </div>
        </header>

        <div class="main-content">
            <div class="left-section">
                <div class="stats-section">
                    <h3>現在の生物 : {{ currentImageTitle }}</h3>
                </div>
                <div id="evolution-container">
                    <img :src="currentImageSrc" :alt="imageAltText">
                    <div class="image-text-container">
                        <p class="image-description">{{ currentImageDescription }}</p>
                    </div>
                </div>
            </div>

            <div class="right-section">
                <div class="form-section">
                    <h3>学習時間の記録</h3>
                    <div class="study-time-input-group">
                        <div class="input-group">
                            <input type="number" v-model.number="studyTimeHours" placeholder="時間" min="0">
                            <span>時間</span>
                        </div>
                        <div class="input-group">
                            <input type="number" v-model.number="studyTimeMinutes" placeholder="分" min="0" max="59">
                            <span>分</span>
                        </div>
                        <button @click="recordStudy">記録する</button>
                    </div>
                    <div class="level-up-section">
                        <h3>次の生物まで</h3>
                        <div v-if="isLevelUp" class="level-up-message">
                            <p>{{ levelUpMessage }}</p>
                            <div class="progress-bar-container">
                                <div class="progress-bar" :style="{ width: '100%' }"></div>
                            </div>
                        </div>
                        <div v-else>
                            <div class="progress-bar-container">
                                <div class="progress-bar" :style="{ width: currentLevelProgress + '%' }"></div>
                            </div>
                            <p>達成率: <span class="progress">{{ currentLevelProgress }}%</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="module" src="app.js"></script>
</body>

</html>